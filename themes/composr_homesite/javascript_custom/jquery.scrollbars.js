/*{$,Parser hint: .innerHTML okay}*/
/*{$,Parser hint: pure}*/

!function(e){"use strict";var t=Object.prototype.hasOwnProperty||window.hasOwnProperty;e.scrollbars=function(){return e("*").scrollbars()},e.fn.scrollbars=function(a){var o=e(document.body),r={xSpace:"auto",ySpace:"auto",forceScrollbars:!1,keyboardControl:!0,persistantSize:!0,overlap:!1,draggerSize:"auto",device:{touch:!1,blackberry:!1,other:!0},scrollbarAutohide:!1,dragContent:!1,mousewheelSupport:!0,mouseWheelMultiplier:1,xEnabled:!0,yEnabled:!0},s={rootElement:"scrollRoot",scrollElement:"scrollElement",dragCon:"dragCon",dragConX:"dragConX",dragConY:"dragConY",contentWrap:"contentWrap",rootWrap:"rootWrap",axisInUse:"axisInUse",axisInUseX:"axisInUseX",axisInUseY:"axisInUseY",dragger:"drag",draggerX:"dragX",draggerY:"dragY",contentDrag:"contentDrag",unselectable:"unselectable"},n={init:function(a){var o=this,s={opts:e.extend(r,a),obj:o,X:{},Y:{}},l=navigator.userAgent;if("ontouchstart"in document.documentElement?s.device="touch":l.match(/blackberry/i)?s.device="blackberry":s.device="other",!s.opts.device[s.device])return!1;if(!s.opts.forceScrollbars){var c={overflow:o.css("overflow"),overflowX:o.css("overflow-x"),overflowY:o.css("overflow-y")},i=["overflow","overflowX","overflowY"],d=!1;for(var p in i)if(t.call(i,p)){var h=i[p];if("auto"===c[h]||"scroll"===c[h]){d=!0;break}}if(!d)return!1}var g=o.find("img"),v=g.length;return s.imgs={objs:g,len:v,load:0},n.setData.call(o,s),n.prePrepare.call(o),0===v?n.prepare.call(o):e.each(g,function(t,a){e(document.createElement("img")).on("load error",function(){var e=n.getData.call(o);if(e.imgs.load=e.imgs.load+1,n.setData.call(o,e),e.imgs.load===e.imgs.len)return n.prepare.call(o)}).attr("src",a.src)})},prePrepare:function(){var e=this;"static"===e.css("position")&&e.css("position","relative"),e.addClass(s.scrollElement).addClass(s.rootElement)},prepare:function(){var t=this,a=n.getData.call(t),o=a.id="scroll-"+Math.floor(1e5*Math.random());t.addClass(o);var r,l=a.opts.xSpace,c=a.opts.ySpace;"auto"===l&&(r=e(document.createElement("div")).addClass(s.dragCon).addClass(s.scrollElement).addClass(s.dragConX).appendTo("body"),l=a.opts.xSpace=parseFloat(r.height()),r.remove()),"auto"===c&&(r=e(document.createElement("div")).addClass(s.dragCon).addClass(s.scrollElement).addClass(s.dragConY).appendTo("body"),c=a.opts.ySpace=parseFloat(r.width()),r.remove());var i=e(document.createElement("div")).addClass(s.contentWrap).addClass(s.scrollElement).addClass(o);t.wrapInner(i),i=a.contentWrap=t.find("."+[s.contentWrap,o,s.scrollElement].join("."));var d=e(document.createElement("div")).addClass(s.rootWrap).addClass(s.scrollElement).addClass(o);if(t.wrapInner(d),(d=a.rootWrap=t.find("."+[s.rootWrap,o,s.scrollElement].join("."))).css({width:t.width(),height:t.height()}),a.opts.persistantSize&&e(window).resize(function(){n.update.apply(t)}),a.opts.keyboardControl){var p=a.tabindex=t.attr("tabindex");void 0!==p&&0!==p||t.attr("tabindex","-1")}n.setData.call(t,a);var h=0;e.each({X:"width",Y:"height"},function(e,a){d[a]()<i[a]()&&(t.addClass(s["axisInUse"+e]),h+=1)}),0!==h?(a.opts.dragContent&&t.addClass(s.dragContent),a.opts.xEnabled&&n.generate.call(t,"X"),a.opts.yEnabled&&n.generate.call(t,"Y")):n.destroy.call(t)},generate:function(t){var a=this,o=n.getData.call(a),r=o.contentWrap,l=o.rootWrap,c=o.id;if(a.find("."+s["dragCon"+t]).length>0)return!1;o.X.dragCon&&o.Y.dragCon&&("X"===t?o.Y.dragCon.css({top:-o.opts.xSpace}):o.X.dragCon.css({left:-o.opts.xSpace}));var i=e(document.createElement("div")).addClass(s.scrollElement).addClass(c).addClass(s.dragCon).addClass(s["dragCon"+t]).appendTo(a);o[t].dragCon=i;if("X"===t?l.width()+o.opts.ySpace>=r.width():l.height()+o.opts.xSpace>=r.height())return n.destroy.call(a,t),!1;a.addClass(s["axisInUse"+t]),"X"===t?o.rootWrap.css({height:o.rootWrap.height()-o.opts.ySpace}):o.rootWrap.css({width:o.rootWrap.width()-o.opts.xSpace});var d=!o.opts.overlap&&a.hasClass(s.axisInUseX)&&a.hasClass(s.axisInUseY);o.overlapping=d,d&&("X"===t?i.css({left:-1*o.opts.ySpace}):i.css({top:-1*o.opts.xSpace}));var p;"auto"===o.opts.draggerSize?(p="X"===t?i.width()/r.width():i.height()/i.height(),p=Math.round(100*p)):p=parseFloat(o.opts.draggerSize),o.opts.draggerSize=p;var h=e(document.createElement("div")).addClass(s.scrollElement).addClass(s.dragger).addClass(c).addClass(s["dragger"+t]).attr("unselectable","on").appendTo(i);return o[t].dragger=h,"X"===t?h.css({left:o.opts.ySpace,width:p+"%"}):h.css({top:o.opts.xSpace,height:p+"%"}),o.opts.scrollbarAutohide&&h.parent().fadeTo(0,0),n.setData.call(a,o),n.addEvents.call(a,t)},addEvents:function(t){var a=this,r=n.getData.call(a),l=r[t].dragCon,c=r[t].dragger;void 0===r.eventsAdded&&(r.eventsAdded={});var i={draggerMousedown:[c,"mousedown",function(e,t,a){e.preventDefault();var r=n.getData.call(t);r.activeAxis=a,r.activePosition="X"===a?e.pageX:e.pageY,n.setData.call(t,r),o.addClass("normalScrollingActive"),o.addClass(s.unselectable),e.preventDefault()}],draggerOnSelectStart:[c,"selectstart",function(e){e.preventDefault()}],starMousemove:[e(document),"mousemove",function(e,t){var a=n.getData.call(t),o=a.activeAxis,r=a.activePosition;if(o&&r){var s=(a.activePosition="X"===o?e.pageX:e.pageY)-r;n.move.call(t,s,o),n.setData.call(t,a)}},"*"],starMouseup:[e(document),"mouseup",function(t,a){var r=e.extend({},n.getData.call(a),{activeAxis:!1,activePos:!1});n.setData.call(a,r),o.removeClass("normalScrollingActive"),o.removeClass(s.unselectable)},"*"],dragConMousedown:[l,"mousedown",function(t,a,o){if(!e(t.target).hasClass(s.dragger)){var r,l,c,i=e(this).children().eq(0),d=i.offset();"X"===o?(r=d.left,l=t.pageX,c=i.width()):(r=d.top,l=t.pageY,c=i.height());var p=l>r?c:-c;n.move.call(a,p,o)}}]};r.opts.keyboardControl&&(i.objKeydown=[a,"keydown",function(e,t){switch(e.which){case 37:n.moveContent.call(t,-20,"X");break;case 38:n.moveContent.call(t,-20,"Y");break;case 39:n.moveContent.call(t,20,"X");break;case 40:n.moveContent.call(t,20,"Y");break;case 33:n.moveContent.call(t,-t.height(),"Y");break;case 34:n.moveContent.call(t,t.height(),"Y")}}]),r.opts.dragContent&&(i.contentMousedown=[r.contentWrap,"mousedown",function(e,t){var a={contentActiveX:e.pageX,contentActiveY:e.pageY};o.addClass("contentDragActive"),n.setData.call(t,a),t.focus(),e.preventDefault()}],i.contentMousemove=[e("*"),"mousemove",function(e,t){var a=n.getData.call(t);if(a.contentActiveX&&a.contentActiveY){var o=a.contentActiveX,r=a.contentActiveY,s=(a.contentActiveX=e.pageX)-o,l=(a.contentActiveY=e.pageY)-r;n.moveContent.call(t,-s,"X"),n.moveContent.call(t,-l,"Y"),n.setData.call(t,a)}}],i.contentMouseup=[e("*"),"mouseup",function(e,t){var a={contentActiveX:!1,contentActiveY:!1};n.setData.call(t,a),o.removeClass("contentDragActive")}]),r.opts.scrollbarAutohide&&(r=n.getData.call(a),i.objMouseEnter=[e(".scrollElement."+r.id),"mouseenter",function(e,t){var a=n.getData.call(t);a.X.dragCon.stop().fadeTo(500,1),a.Y.dragCon.stop().fadeTo(500,1)}],i.objMouseOut=[a,"mouseout",function(e,t){var a=n.getData.call(t);a.X.dragCon.stop().fadeTo(500,0),a.Y.dragCon.stop().fadeTo(500,0)}]),e.fn.mousewheel&&r.opts.mousewheelSupport&&(i.objMousewheel=[a,"mousewheel",function(e,t,a){var o=n.getData.call(t),r=-a[1],s=0!==a[2]?"X":"Y",l=r<0?-3:r>0?3:0;l*=o.opts.mouseWheelMultiplier,n.move.call(t,l,s),e.preventDefault()}]),e.each(i,function(t,o){var r=o[0],s=o[1],n=o[2],l=o[3],c=[s];l&&c.push(l),c.push(function(t){var o,r=t.target.className.split(" "),s=arguments;return e.each(r,function(e,t){var a=t.match(/.*?X/),r=t.match(/.*?Y/);if(a&&r)return!1;a?o="X":r&&(o="Y")}),o?n.call(e(this),t,a,o,s):n.call(e(this),t,a,s)}),r.on.apply(r,c)})},moveContent:function(e,t){var a=this,o=n.getData.call(this),r=o[t].dragCon,s=o[t].dragger,l=o.rootWrap,c=o.contentWrap;if(!s)return!1;var i="X"===t?s.width():s.height(),d="X"===t?r.css("left"):r.css("top");d="auto"===d?0:-parseFloat(d);var p="X"===t?r.width()-d:r.height()-d,h=(("X"===t?c.width():c.height())-("X"===t?l.width():l.height()))/(p-i);n.move.call(a,e/h,t)},move:function(t,a,o){var r=this,s={moveMethod:"distance",moveType:"pixels"},l=e.extend(s,o),c=n.getData.call(r),i=c[a].dragCon,d=c[a].dragger,p=c.rootWrap,h=c.contentWrap;if(!i||!d)return!1;var g,v,u="X"===a?i.css("left"):i.css("top");u="auto"===u?0:-parseFloat(u);var m="X"===a?i.width()-u:i.height()-u,f="X"===a?d.width():d.height(),C="X"===a?p.width():p.height(),X="X"===a?h.width():h.height(),w=u,b=m+u-f;"position"===l.moveMethod?g="percent"===l.moveType?t/m*100:t:(v="auto"===(v="X"===a?d.css("left"):d.css("top"))?w:parseFloat(v),g="percent"===l.moveType?v+t/m*100:v+t),g=Math.max(w,Math.min(b,g)),"X"===a?d.css("left",g):d.css("top",g);var D=(X-C)/(m-f);g===b&&(g-=1);var x=(g-u)*D;"X"===a?h.css({left:-x}):h.css({top:-x})},getScrollPos:function(e,t){var a=this,o=n.getData.call(a),r=o[e].dragger,s=o[e].dragCon,l="X"===e?r.css("left"):r.css("top");l="auto"===l?0:parseFloat(l);var c="X"===e?s.width():s.height(),i="X"===e?r.width():r.height();return t&&(l+=i),l/c*100},destroy:function(e,a){void 0===a&&(a=!0);var o=this,r=n.getData.call(o);if(!r)return!1;if(e&&(o.removeClass(s["axisInUse"+e]).find("."+s["dragCon"+e]).filter("."+r.id).remove(),"X"===e?(r.rootWrap.css({height:"100%"}),r.Y.dragCon&&r.Y.dragCon.css({top:0})):(r.rootWrap.css({width:"100%"}),r.X.dragCon&&r.X.dragCon.css({left:0}))),a&&(!e||!o.hasClass(s.axisInUseX)&&!o.hasClass(s.axisInUseY))){o.html(r.contentWrap.html());for(var l in s)t.call(s,l)&&o.removeClass(s[l]);r.tabindex?o.attr("tabindex",r.tabindex):o.removeAttr("tabindex"),o.removeClass(r.id),n.removeData.call(this)}},setData:function(e){return this.data("jQSData",e)},getData:function(){return this.data("jQSData")},removeData:function(){return this.removeData("jQSData")},update:function(){var t=this,a=n.getData.call(t);a.rootWrap.css({width:t.width()-a.opts.ySpace,height:t.height()-a.opts.xSpace}),e.each({X:"width",Y:"height"},function(e,o){a.rootWrap[o]()<a.contentWrap[o]()?n.generate.call(t,e):n.destroy.call(t,e,!1);try{n.move.call(t,n.getScrollPos.call(t,e),e)}catch(e){}})}},l=e.makeArray(arguments);if(n[a]){var c=[],i=this.each(function(){var t=n[a].apply(e(this),l.slice(1));t&&c.push(t)});return c.length<1?i:c.length>1?c:c[0]}if("object"==typeof a||!a)return this.each(function(){n.init.apply(e(this),l)});e.error("No such method "+a+" on jQuery.scrollbars")}}(jQuery);
