<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>
            Composr API documentation
        </title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">
                        Composr API documentation
                    </a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/aggregate_types.html"><i class="icon-folder-open"></i> aggregate_types</a></li>
<li><a href="../packages/authors.html"><i class="icon-folder-open"></i> authors</a></li>
<li><a href="../packages/awards.html"><i class="icon-folder-open"></i> awards</a></li>
<li><a href="../packages/backup.html"><i class="icon-folder-open"></i> backup</a></li>
<li><a href="../packages/banners.html"><i class="icon-folder-open"></i> banners</a></li>
<li><a href="../packages/bookmarks.html"><i class="icon-folder-open"></i> bookmarks</a></li>
<li><a href="../packages/breadcrumbs.html"><i class="icon-folder-open"></i> breadcrumbs</a></li>
<li><a href="../packages/calendar.html"><i class="icon-folder-open"></i> calendar</a></li>
<li><a href="../packages/captcha.html"><i class="icon-folder-open"></i> captcha</a></li>
<li><a href="../packages/catalogues.html"><i class="icon-folder-open"></i> catalogues</a></li>
<li><a href="../packages/chat.html"><i class="icon-folder-open"></i> chat</a></li>
<li><a href="../packages/cns_forum.html"><i class="icon-folder-open"></i> cns_forum</a></li>
<li><a href="../packages/commandr.html"><i class="icon-folder-open"></i> commandr</a></li>
<li><a href="../packages/content_privacy.html"><i class="icon-folder-open"></i> content_privacy</a></li>
<li><a href="../packages/content_reviews.html"><i class="icon-folder-open"></i> content_reviews</a></li>
<li><a href="../packages/core.html"><i class="icon-folder-open"></i> core</a></li>
<li><a href="../packages/core_abstract_interfaces.html"><i class="icon-folder-open"></i> core_abstract_interfaces</a></li>
<li><a href="../packages/core_addon_management.html"><i class="icon-folder-open"></i> core_addon_management</a></li>
<li><a href="../packages/core_cns.html"><i class="icon-folder-open"></i> core_cns</a></li>
<li><a href="../packages/core_database_drivers.html"><i class="icon-folder-open"></i> core_database_drivers</a></li>
<li><a href="../packages/core_feedback_features.html"><i class="icon-folder-open"></i> core_feedback_features</a></li>
<li><a href="../packages/core_fields.html"><i class="icon-folder-open"></i> core_fields</a></li>
<li><a href="../packages/core_form_interfaces.html"><i class="icon-folder-open"></i> core_form_interfaces</a></li>
<li><a href="../packages/core_forum_drivers.html"><i class="icon-folder-open"></i> core_forum_drivers</a></li>
<li><a href="../packages/core_language_editing.html"><i class="icon-folder-open"></i> core_language_editing</a></li>
<li><a href="../packages/core_menus.html"><i class="icon-folder-open"></i> core_menus</a></li>
<li><a href="../packages/core_notifications.html"><i class="icon-folder-open"></i> core_notifications</a></li>
<li><a href="../packages/core_rich_media.html"><i class="icon-folder-open"></i> core_rich_media</a></li>
<li><a href="../packages/core_themeing.html"><i class="icon-folder-open"></i> core_themeing</a></li>
<li><a href="../packages/core_upgrader.html"><i class="icon-folder-open"></i> core_upgrader</a></li>
<li><a href="../packages/core_webstandards.html"><i class="icon-folder-open"></i> core_webstandards</a></li>
<li><a href="../packages/custom_comcode.html"><i class="icon-folder-open"></i> custom_comcode</a></li>
<li><a href="../packages/downloads.html"><i class="icon-folder-open"></i> downloads</a></li>
<li><a href="../packages/ecommerce.html"><i class="icon-folder-open"></i> ecommerce</a></li>
<li><a href="../packages/filedump.html"><i class="icon-folder-open"></i> filedump</a></li>
<li><a href="../packages/galleries.html"><i class="icon-folder-open"></i> galleries</a></li>
<li><a href="../packages/google_appengine.html"><i class="icon-folder-open"></i> google_appengine</a></li>
<li><a href="../packages/import.html"><i class="icon-folder-open"></i> import</a></li>
<li><a href="../packages/ldap.html"><i class="icon-folder-open"></i> ldap</a></li>
<li><a href="../packages/msn.html"><i class="icon-folder-open"></i> msn</a></li>
<li><a href="../packages/news.html"><i class="icon-folder-open"></i> news</a></li>
<li><a href="../packages/newsletter.html"><i class="icon-folder-open"></i> newsletter</a></li>
<li><a href="../packages/points.html"><i class="icon-folder-open"></i> points</a></li>
<li><a href="../packages/pointstore.html"><i class="icon-folder-open"></i> pointstore</a></li>
<li><a href="../packages/polls.html"><i class="icon-folder-open"></i> polls</a></li>
<li><a href="../packages/quizzes.html"><i class="icon-folder-open"></i> quizzes</a></li>
<li><a href="../packages/realtime_rain.html"><i class="icon-folder-open"></i> realtime_rain</a></li>
<li><a href="../packages/recommend.html"><i class="icon-folder-open"></i> recommend</a></li>
<li><a href="../packages/search.html"><i class="icon-folder-open"></i> search</a></li>
<li><a href="../packages/securitylogging.html"><i class="icon-folder-open"></i> securitylogging</a></li>
<li><a href="../packages/shopping.html"><i class="icon-folder-open"></i> shopping</a></li>
<li><a href="../packages/sms.html"><i class="icon-folder-open"></i> sms</a></li>
<li><a href="../packages/stats.html"><i class="icon-folder-open"></i> stats</a></li>
<li><a href="../packages/syndication.html"><i class="icon-folder-open"></i> syndication</a></li>
<li><a href="../packages/themewizard.html"><i class="icon-folder-open"></i> themewizard</a></li>
<li><a href="../packages/tickets.html"><i class="icon-folder-open"></i> tickets</a></li>
<li><a href="../packages/wiki.html"><i class="icon-folder-open"></i> wiki</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">499</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_extract_child_page_link_permission_pair" title="extract_child_page_link_permission_pair() :: Convert a page-link to a category ID and category permission module type."><span class="description">Convert a page-link to a category ID and category permission module type.</span><pre>extract_child_page_link_permission_pair()</pre></a></li>
<li class="method public inherited"><a href="#method_extract_child_page_link_permission_pair" title="extract_child_page_link_permission_pair() :: Convert a page-link to a category ID and category permission module type."><span class="description">Convert a page-link to a category ID and category permission module type.</span><pre>extract_child_page_link_permission_pair()</pre></a></li>
<li class="method public inherited"><a href="#method_get_node" title="get_node() :: Find details of a position in the Sitemap."><span class="description">Find details of a position in the Sitemap.</span><pre>get_node()</pre></a></li>
<li class="method public inherited"><a href="#method_get_privilege_page" title="get_privilege_page() :: Get the permission page that nodes matching $page_link in this hook are tied to."><span class="description">Get the permission page that nodes matching $page_link in this hook are tied to.</span><pre>get_privilege_page()</pre></a></li>
<li class="method public inherited"><a href="#method_get_virtual_nodes" title="get_virtual_nodes() :: Find all nodes at the top level position in the Sitemap for this hook."><span class="description">Find all nodes at the top level position in the Sitemap for this hook.</span><pre>get_virtual_nodes()</pre></a></li>
<li class="method public "><a href="#method_handles_page_link" title="handles_page_link() :: Find if a page-link will be covered by this node."><span class="description">Find if a page-link will be covered by this node.</span><pre>handles_page_link()</pre></a></li>
<li class="method public inherited"><a href="#method_handles_page_link" title="handles_page_link() :: Find if a page-link will be covered by this node."><span class="description">Find if a page-link will be covered by this node.</span><pre>handles_page_link()</pre></a></li>
<li class="method public inherited"><a href="#method_is_active" title="is_active() :: Find whether the hook is active."><span class="description">Find whether the hook is active.</span><pre>is_active()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected inherited"><a href="#method__ameliorate_with_row" title="_ameliorate_with_row() :: Extend the node structure with added details from our row data (if we have it)."><span class="description">Extend the node structure with added details from our row data (if we have it).</span><pre>_ameliorate_with_row()</pre></a></li>
<li class="method protected inherited"><a href="#method__check_node_permissions" title="_check_node_permissions() :: Check the permissions of the node structure, returning false if they fail for the current user."><span class="description">Check the permissions of the node structure, returning false if they fail for the current user.</span><pre>_check_node_permissions()</pre></a></li>
<li class="method protected "><a href="#method__create_partial_node_structure" title="_create_partial_node_structure() :: Pre-fill part of the node structure, from what we know from the CMA hook."><span class="description">Pre-fill part of the node structure, from what we know from the CMA hook.</span><pre>_create_partial_node_structure()</pre></a></li>
<li class="method protected "><a href="#method__get_children_nodes" title="_get_children_nodes() :: Get a list of child nodes, from what we know from the CMA hook."><span class="description">Get a list of child nodes, from what we know from the CMA hook.</span><pre>_get_children_nodes()</pre></a></li>
<li class="method protected "><a href="#method__get_cma_info" title="_get_cma_info() :: Get the CMA info for our content hook."><span class="description">Get the CMA info for our content hook.</span><pre>_get_cma_info()</pre></a></li>
<li class="method protected "><a href="#method__get_page_link_id" title="_get_page_link_id() :: Get a content ID via a page-link."><span class="description">Get a content ID via a page-link.</span><pre>_get_page_link_id()</pre></a></li>
<li class="method protected "><a href="#method__get_row" title="_get_row() :: Get the database row for some content."><span class="description">Get the database row for some content.</span><pre>_get_row()</pre></a></li>
<li class="method protected inherited"><a href="#method__get_sitemap_object" title="_get_sitemap_object() :: Get a particular Sitemap object. Used for easily tying in a different kind of child node."><span class="description">Get a particular Sitemap object. Used for easily tying in a different kind of child node.</span><pre>_get_sitemap_object()</pre></a></li>
<li class="method protected inherited"><a href="#method__is_page_omitted_from_sitemap" title="_is_page_omitted_from_sitemap() :: Find whether a page should be omitted from the sitemap."><span class="description">Find whether a page should be omitted from the sitemap.</span><pre>_is_page_omitted_from_sitemap()</pre></a></li>
<li class="method protected inherited"><a href="#method__load_row_from_page_groupings" title="_load_row_from_page_groupings() :: Find details for this node."><span class="description">Find details for this node.</span><pre>_load_row_from_page_groupings()</pre></a></li>
<li class="method protected inherited"><a href="#method__make_zone_concrete" title="_make_zone_concrete() :: Remap '_SEARCH' zones if we can derive the zone from the page-link / or fix _SEARCH in the page-link if there's a known zone."><span class="description">Remap '_SEARCH' zones if we can derive the zone from the page-link / or fix _SEARCH in the page-link if there's a known zone.</span><pre>_make_zone_concrete()</pre></a></li>
<li class="method protected inherited"><a href="#method__request_page_details" title="_request_page_details() :: Take the specified parameters, and try to find the corresponding page."><span class="description">Take the specified parameters, and try to find the corresponding page.</span><pre>_request_page_details()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i title="Properties" class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="property protected "><a href="#property_cma_info" title="$cma_info() :: "><span class="description"></span><pre>$cma_info</pre></a></li>
<li class="property protected "><a href="#property_content_type" title="$content_type() :: "><span class="description"></span><pre>$content_type</pre></a></li>
<li class="property protected "><a href="#property_entry_content_type" title="$entry_content_type() :: "><span class="description"></span><pre>$entry_content_type</pre></a></li>
<li class="property protected "><a href="#property_entry_sitetree_hook" title="$entry_sitetree_hook() :: "><span class="description"></span><pre>$entry_sitetree_hook</pre></a></li>
<li class="property protected "><a href="#property_screen_type" title="$screen_type() :: "><span class="description"></span><pre>$screen_type</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Hook_sitemap_content"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Hook_sitemap_content.html">Hook_sitemap_content</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">Sitemap node type for content types.</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/core.html">core</a></td>
</tr>
<tr>
<th>inherited_from</th>
<td>\Hook_sitemap_base</td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method_extract_child_page_link_permission_pair"></a><div class="element clickable method public method_extract_child_page_link_permission_pair " data-toggle="collapse" data-target=".method_extract_child_page_link_permission_pair .collapse" title="public">
<h2>Convert a page-link to a category ID and category permission module type.</h2>
<pre>extract_child_page_link_permission_pair(\ID_TEXT $page_link) : \?array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Hook_sitemap_base::extract_child_page_link_permission_pair()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>The pair (null: permission modules not handled)</div>
</div></div>
</div>
<a id="method_extract_child_page_link_permission_pair"></a><div class="element clickable method public method_extract_child_page_link_permission_pair inherited" data-toggle="collapse" data-target=".method_extract_child_page_link_permission_pair .collapse" title="public">
<h2>Convert a page-link to a category ID and category permission module type.</h2>
<pre>extract_child_page_link_permission_pair(string $page_link) : \?array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>string</code><p>The page-link</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>The pair (null: permission modules not handled)</div>
</div></div>
</div>
<a id="method_get_node"></a><div class="element clickable method public method_get_node inherited" data-toggle="collapse" data-target=".method_get_node .collapse" title="public">
<h2>Find details of a position in the Sitemap.</h2>
<pre>get_node(\ID_TEXT $page_link, \?string $callback<code> = null</code>, \?array $valid_node_types<code> = null</code>, \?integer $child_cutoff<code> = null</code>, \?integer $max_recurse_depth<code> = null</code>, integer $recurse_level<code> = 0</code>, integer $options<code> = 0</code>, \ID_TEXT $zone<code> = '_SEARCH'</code>, integer $meta_gather<code> = 0</code>, \?array $row<code> = null</code>, boolean $return_anyway<code> = false</code>) : \?array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link we are finding.</p></div>
<div class="subelement argument">
<h4>$callback</h4>
<code>\?string</code><p>Callback function to send discovered page-links to (null: return).</p></div>
<div class="subelement argument">
<h4>$valid_node_types</h4>
<code>\?array</code><p>List of node types we will return/recurse-through (null: no limit)</p></div>
<div class="subelement argument">
<h4>$child_cutoff</h4>
<code>\?integer</code><p>Maximum number of children before we cut off all children (null: no limit).</p></div>
<div class="subelement argument">
<h4>$max_recurse_depth</h4>
<code>\?integer</code><p>How deep to go from the Sitemap root (null: no limit).</p></div>
<div class="subelement argument">
<h4>$recurse_level</h4>
<code>integer</code><p>Our recursion depth (used to limit recursion, or to calculate importance of page-link, used for instance by XML Sitemap [deeper is typically less important]).</p></div>
<div class="subelement argument">
<h4>$options</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GEN</em>* options.</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone we will consider ourselves to be operating in (needed due to transparent redirects feature)</p></div>
<div class="subelement argument">
<h4>$meta_gather</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GATHER</em>* constants, of extra data to include.</p></div>
<div class="subelement argument">
<h4>$row</h4>
<code>\?array</code><p>Database row (null: lookup).</p></div>
<div class="subelement argument">
<h4>$return_anyway</h4>
<code>boolean</code><p>Whether to return the structure even if there was a callback. Do not pass this setting through via recursion due to memory concerns, it is used only to gather information to detect and prevent parent/child duplication of default entry points.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>Node structure (null: working via callback / error).</div>
</div></div>
</div>
<a id="method_get_privilege_page"></a><div class="element clickable method public method_get_privilege_page inherited" data-toggle="collapse" data-target=".method_get_privilege_page .collapse" title="public">
<h2>Get the permission page that nodes matching $page_link in this hook are tied to.</h2>
<pre>get_privilege_page(string $page_link) : \?ID_TEXT</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The permission page is where privileges may be overridden against.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>string</code><p>The page-link</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?ID_TEXT</code>The permission page (null: none)</div>
</div></div>
</div>
<a id="method_get_virtual_nodes"></a><div class="element clickable method public method_get_virtual_nodes inherited" data-toggle="collapse" data-target=".method_get_virtual_nodes .collapse" title="public">
<h2>Find all nodes at the top level position in the Sitemap for this hook.</h2>
<pre>get_virtual_nodes(\ID_TEXT $page_link, \?string $callback<code> = null</code>, \?array $valid_node_types<code> = null</code>, \?integer $child_cutoff<code> = null</code>, \?integer $max_recurse_depth<code> = null</code>, integer $recurse_level<code> = 0</code>, integer $options<code> = 0</code>, \ID_TEXT $zone<code> = '_SEARCH'</code>, integer $meta_gather<code> = 0</code>, boolean $return_anyway<code> = false</code>) : \?array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>May be a single node (i.e. a category root) or multiple nodes (if there's a flat structure).</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link we are finding.</p></div>
<div class="subelement argument">
<h4>$callback</h4>
<code>\?string</code><p>Callback function to send discovered page-links to (null: return).</p></div>
<div class="subelement argument">
<h4>$valid_node_types</h4>
<code>\?array</code><p>List of node types we will return/recurse-through (null: no limit)</p></div>
<div class="subelement argument">
<h4>$child_cutoff</h4>
<code>\?integer</code><p>Maximum number of children before we cut off all children (null: no limit).</p></div>
<div class="subelement argument">
<h4>$max_recurse_depth</h4>
<code>\?integer</code><p>How deep to go from the Sitemap root (null: no limit).</p></div>
<div class="subelement argument">
<h4>$recurse_level</h4>
<code>integer</code><p>Our recursion depth (used to limit recursion, or to calculate importance of page-link, used for instance by XML Sitemap [deeper is typically less important]).</p></div>
<div class="subelement argument">
<h4>$options</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GEN</em>* options.</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone we will consider ourselves to be operating in (needed due to transparent redirects feature)</p></div>
<div class="subelement argument">
<h4>$meta_gather</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GATHER</em>* constants, of extra data to include.</p></div>
<div class="subelement argument">
<h4>$return_anyway</h4>
<code>boolean</code><p>Whether to return the structure even if there was a callback. Do not pass this setting through via recursion due to memory concerns, it is used only to gather information to detect and prevent parent/child duplication of default entry points.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>List of node structures (null: working via callback).</div>
</div></div>
</div>
<a id="method_handles_page_link"></a><div class="element clickable method public method_handles_page_link " data-toggle="collapse" data-target=".method_handles_page_link .collapse" title="public">
<h2>Find if a page-link will be covered by this node.</h2>
<pre>handles_page_link(\ID_TEXT $page_link) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Hook_sitemap_base::handles_page_link()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>A SITEMAP_NODE_* constant.</div>
</div></div>
</div>
<a id="method_handles_page_link"></a><div class="element clickable method public method_handles_page_link inherited" data-toggle="collapse" data-target=".method_handles_page_link .collapse" title="public">
<h2>Find if a page-link will be covered by this node.</h2>
<pre>handles_page_link(\ID_TEXT $page_link) : integer</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>A SITEMAP_NODE_* constant.</div>
</div></div>
</div>
<a id="method_is_active"></a><div class="element clickable method public method_is_active inherited" data-toggle="collapse" data-target=".method_is_active .collapse" title="public">
<h2>Find whether the hook is active.</h2>
<pre>is_active() : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether the hook is active.</div>
</div></div>
</div>
<a id="method__ameliorate_with_row"></a><div class="element clickable method protected method__ameliorate_with_row inherited" data-toggle="collapse" data-target=".method__ameliorate_with_row .collapse" title="protected">
<h2>Extend the node structure with added details from our row data (if we have it).</h2>
<pre>_ameliorate_with_row(integer $options, array $struct, \?array $row, integer $meta_gather) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$options</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GEN</em>* options.</p></div>
<div class="subelement argument">
<h4>$struct</h4>
<code>array</code><p>Structure.</p></div>
<div class="subelement argument">
<h4>$row</h4>
<code>\?array</code><p>Faked database row (null: we don't have row data).</p></div>
<div class="subelement argument">
<h4>$meta_gather</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GATHER</em>* constants, of extra data to include.</p></div>
</div></div>
</div>
<a id="method__check_node_permissions"></a><div class="element clickable method protected method__check_node_permissions inherited" data-toggle="collapse" data-target=".method__check_node_permissions .collapse" title="protected">
<h2>Check the permissions of the node structure, returning false if they fail for the current user.</h2>
<pre>_check_node_permissions(array $struct) : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$struct</h4>
<code>array</code><p>Node structure</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether the permissions pass</div>
</div></div>
</div>
<a id="method__create_partial_node_structure"></a><div class="element clickable method protected method__create_partial_node_structure " data-toggle="collapse" data-target=".method__create_partial_node_structure .collapse" title="protected">
<h2>Pre-fill part of the node structure, from what we know from the CMA hook.</h2>
<pre>_create_partial_node_structure(\ID_TEXT $page_link, \?string $callback, \?array $valid_node_types, \?integer $child_cutoff, \?integer $max_recurse_depth, integer $recurse_level, integer $options, \ID_TEXT $zone, integer $meta_gather, \?array $row) : \?array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link we are finding.</p></div>
<div class="subelement argument">
<h4>$callback</h4>
<code>\?string</code><p>Callback function to send discovered page-links to (null: return).</p></div>
<div class="subelement argument">
<h4>$valid_node_types</h4>
<code>\?array</code><p>List of node types we will return/recurse-through (null: no limit)</p></div>
<div class="subelement argument">
<h4>$child_cutoff</h4>
<code>\?integer</code><p>Maximum number of children before we cut off all children (null: no limit).</p></div>
<div class="subelement argument">
<h4>$max_recurse_depth</h4>
<code>\?integer</code><p>How deep to go from the Sitemap root (null: no limit).</p></div>
<div class="subelement argument">
<h4>$recurse_level</h4>
<code>integer</code><p>Our recursion depth (used to limit recursion, or to calculate importance of page-link, used for instance by XML Sitemap [deeper is typically less important]).</p></div>
<div class="subelement argument">
<h4>$options</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GEN</em>* options.</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone we will consider ourselves to be operating in (needed due to transparent redirects feature)</p></div>
<div class="subelement argument">
<h4>$meta_gather</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GATHER</em>* constants, of extra data to include.</p></div>
<div class="subelement argument">
<h4>$row</h4>
<code>\?array</code><p>Database row (null: lookup).</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>A tuple: content ID, row, partial node structure (null: filtered).</div>
</div></div>
</div>
<a id="method__get_children_nodes"></a><div class="element clickable method protected method__get_children_nodes " data-toggle="collapse" data-target=".method__get_children_nodes .collapse" title="protected">
<h2>Get a list of child nodes, from what we know from the CMA hook.</h2>
<pre>_get_children_nodes(\ID_TEXT $content_id, \ID_TEXT $page_link, \?string $callback, \?array $valid_node_types, \?integer $child_cutoff, \?integer $max_recurse_depth, integer $recurse_level, integer $options, \ID_TEXT $zone, integer $meta_gather, \?array $row, string $extra_where_entries<code> = ''</code>, \?string $explicit_order_by_entries<code> = null</code>, \?string $explicit_order_by_subcategories<code> = null</code>) : \?array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$content_id</h4>
<code>\ID_TEXT</code><p>The content ID.</p></div>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link we are finding.</p></div>
<div class="subelement argument">
<h4>$callback</h4>
<code>\?string</code><p>Callback function to send discovered page-links to (null: return).</p></div>
<div class="subelement argument">
<h4>$valid_node_types</h4>
<code>\?array</code><p>List of node types we will return/recurse-through (null: no limit)</p></div>
<div class="subelement argument">
<h4>$child_cutoff</h4>
<code>\?integer</code><p>Maximum number of children before we cut off all children (null: no limit).</p></div>
<div class="subelement argument">
<h4>$max_recurse_depth</h4>
<code>\?integer</code><p>How deep to go from the Sitemap root (null: no limit).</p></div>
<div class="subelement argument">
<h4>$recurse_level</h4>
<code>integer</code><p>Our recursion depth (used to limit recursion, or to calculate importance of page-link, used for instance by XML Sitemap [deeper is typically less important]).</p></div>
<div class="subelement argument">
<h4>$options</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GEN</em>* options.</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone we will consider ourselves to be operating in (needed due to transparent redirects feature)</p></div>
<div class="subelement argument">
<h4>$meta_gather</h4>
<code>integer</code><p>A bitmask of SITEMAP<em>GATHER</em>* constants, of extra data to include.</p></div>
<div class="subelement argument">
<h4>$row</h4>
<code>\?array</code><p>Database row (null: lookup).</p></div>
<div class="subelement argument">
<h4>$extra_where_entries</h4>
<code>string</code><p>Extra SQL piece for considering which entries to load.</p></div>
<div class="subelement argument">
<h4>$explicit_order_by_entries</h4>
<code>\?string</code><p>Order by for entries (null: alphabetical title).</p></div>
<div class="subelement argument">
<h4>$explicit_order_by_subcategories</h4>
<code>\?string</code><p>Order by for categories (null: alphabetical title).</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>Child nodes (null: not retrieved yet).</div>
</div></div>
</div>
<a id="method__get_cma_info"></a><div class="element clickable method protected method__get_cma_info " data-toggle="collapse" data-target=".method__get_cma_info .collapse" title="protected">
<h2>Get the CMA info for our content hook.</h2>
<pre>_get_cma_info() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The CMA info.</div>
</div></div>
</div>
<a id="method__get_page_link_id"></a><div class="element clickable method protected method__get_page_link_id " data-toggle="collapse" data-target=".method__get_page_link_id .collapse" title="protected">
<h2>Get a content ID via a page-link.</h2>
<pre>_get_page_link_id(\ID_TEXT $page_link) : \?ID_TEXT</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?ID_TEXT</code>The ID (null: unknown).</div>
</div></div>
</div>
<a id="method__get_row"></a><div class="element clickable method protected method__get_row " data-toggle="collapse" data-target=".method__get_row .collapse" title="protected">
<h2>Get the database row for some content.</h2>
<pre>_get_row(\ID_TEXT $content_id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$content_id</h4>
<code>\ID_TEXT</code><p>The content ID.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The content row.</div>
</div></div>
</div>
<a id="method__get_sitemap_object"></a><div class="element clickable method protected method__get_sitemap_object inherited" data-toggle="collapse" data-target=".method__get_sitemap_object .collapse" title="protected">
<h2>Get a particular Sitemap object. Used for easily tying in a different kind of child node.</h2>
<pre>_get_sitemap_object(\ID_TEXT $hook) : object</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$hook</h4>
<code>\ID_TEXT</code><p>The hook, i.e. the Sitemap object type. Usually the same as a content type.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>object</code>The Sitemap object.</div>
</div></div>
</div>
<a id="method__is_page_omitted_from_sitemap"></a><div class="element clickable method protected method__is_page_omitted_from_sitemap inherited" data-toggle="collapse" data-target=".method__is_page_omitted_from_sitemap .collapse" title="protected">
<h2>Find whether a page should be omitted from the sitemap.</h2>
<pre>_is_page_omitted_from_sitemap(\ID_TEXT $zone, \ID_TEXT $page) : boolean</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone the page is being loaded in</p></div>
<div class="subelement argument">
<h4>$page</h4>
<code>\ID_TEXT</code><p>The codename of the page to load</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether the page should be omitted.</div>
</div></div>
</div>
<a id="method__load_row_from_page_groupings"></a><div class="element clickable method protected method__load_row_from_page_groupings inherited" data-toggle="collapse" data-target=".method__load_row_from_page_groupings .collapse" title="protected">
<h2>Find details for this node.</h2>
<pre>_load_row_from_page_groupings(\?array $row, \ID_TEXT $zone, \ID_TEXT $page, \ID_TEXT $type<code> = 'browse'</code>, \?ID_TEXT $id<code> = null</code>) : \?array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$row</h4>
<code>\?array</code><p>Faked database row (null: derive).</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone.</p></div>
<div class="subelement argument">
<h4>$page</h4>
<code>\ID_TEXT</code><p>The page.</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>\ID_TEXT</code><p>The type.</p></div>
<div class="subelement argument">
<h4>$id</h4>
<code>\?ID_TEXT</code><p>The ID (null: unknown).</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?array</code>Faked database row (null: derive).</div>
</div></div>
</div>
<a id="method__make_zone_concrete"></a><div class="element clickable method protected method__make_zone_concrete inherited" data-toggle="collapse" data-target=".method__make_zone_concrete .collapse" title="protected">
<h2>Remap '_SEARCH' zones if we can derive the zone from the page-link / or fix _SEARCH in the page-link if there's a known zone.</h2>
<pre>_make_zone_concrete(\ID_TEXT $zone, \ID_TEXT $page_link) : \ID_TEXT</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone in the recurse tree (replaced by reference).</p></div>
<div class="subelement argument">
<h4>$page_link</h4>
<code>\ID_TEXT</code><p>The page-link (replaced by reference).</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\ID_TEXT</code>The page name (only returned because it could also be useful, saves some code).</div>
</div></div>
</div>
<a id="method__request_page_details"></a><div class="element clickable method protected method__request_page_details inherited" data-toggle="collapse" data-target=".method__request_page_details .collapse" title="protected">
<h2>Take the specified parameters, and try to find the corresponding page.</h2>
<pre>_request_page_details(\ID_TEXT $page, \ID_TEXT $zone) : \~array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$page</h4>
<code>\ID_TEXT</code><p>The codename of the page to load</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone the page is being loaded in</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\~array</code>A list of details (false: page not found)</div>
</div></div>
</div>
<h3>
<i title="Properties" class="icon-custom icon-property"></i> Properties</h3>
<a id="property_cma_info"> </a><div class="element clickable property protected property_cma_info" data-toggle="collapse" data-target=".property_cma_info .collapse" title="protected">
<h2>$cma_info</h2>
<pre>$cma_info </pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_content_type"> </a><div class="element clickable property protected property_content_type" data-toggle="collapse" data-target=".property_content_type .collapse" title="protected">
<h2>$content_type</h2>
<pre>$content_type </pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_entry_content_type"> </a><div class="element clickable property protected property_entry_content_type" data-toggle="collapse" data-target=".property_entry_content_type .collapse" title="protected">
<h2>$entry_content_type</h2>
<pre>$entry_content_type </pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_entry_sitetree_hook"> </a><div class="element clickable property protected property_entry_sitetree_hook" data-toggle="collapse" data-target=".property_entry_sitetree_hook .collapse" title="protected">
<h2>$entry_sitetree_hook</h2>
<pre>$entry_sitetree_hook </pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>null</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_screen_type"> </a><div class="element clickable property protected property_screen_type" data-toggle="collapse" data-target=".property_screen_type .collapse" title="protected">
<h2>$screen_type</h2>
<pre>$screen_type </pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>'browse'</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2015-09-04T16:29:54+01:00.<br></footer></div>
</div>
</body>
</html>
