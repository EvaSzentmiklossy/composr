<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>
            Composr API documentation
        </title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">
                        Composr API documentation
                    </a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/aggregate_types.html"><i class="icon-folder-open"></i> aggregate_types</a></li>
<li><a href="../packages/authors.html"><i class="icon-folder-open"></i> authors</a></li>
<li><a href="../packages/awards.html"><i class="icon-folder-open"></i> awards</a></li>
<li><a href="../packages/backup.html"><i class="icon-folder-open"></i> backup</a></li>
<li><a href="../packages/banners.html"><i class="icon-folder-open"></i> banners</a></li>
<li><a href="../packages/bookmarks.html"><i class="icon-folder-open"></i> bookmarks</a></li>
<li><a href="../packages/breadcrumbs.html"><i class="icon-folder-open"></i> breadcrumbs</a></li>
<li><a href="../packages/calendar.html"><i class="icon-folder-open"></i> calendar</a></li>
<li><a href="../packages/captcha.html"><i class="icon-folder-open"></i> captcha</a></li>
<li><a href="../packages/catalogues.html"><i class="icon-folder-open"></i> catalogues</a></li>
<li><a href="../packages/chat.html"><i class="icon-folder-open"></i> chat</a></li>
<li><a href="../packages/cns_forum.html"><i class="icon-folder-open"></i> cns_forum</a></li>
<li><a href="../packages/commandr.html"><i class="icon-folder-open"></i> commandr</a></li>
<li><a href="../packages/content_privacy.html"><i class="icon-folder-open"></i> content_privacy</a></li>
<li><a href="../packages/content_reviews.html"><i class="icon-folder-open"></i> content_reviews</a></li>
<li><a href="../packages/core.html"><i class="icon-folder-open"></i> core</a></li>
<li><a href="../packages/core_abstract_interfaces.html"><i class="icon-folder-open"></i> core_abstract_interfaces</a></li>
<li><a href="../packages/core_addon_management.html"><i class="icon-folder-open"></i> core_addon_management</a></li>
<li><a href="../packages/core_cns.html"><i class="icon-folder-open"></i> core_cns</a></li>
<li><a href="../packages/core_database_drivers.html"><i class="icon-folder-open"></i> core_database_drivers</a></li>
<li><a href="../packages/core_feedback_features.html"><i class="icon-folder-open"></i> core_feedback_features</a></li>
<li><a href="../packages/core_fields.html"><i class="icon-folder-open"></i> core_fields</a></li>
<li><a href="../packages/core_form_interfaces.html"><i class="icon-folder-open"></i> core_form_interfaces</a></li>
<li><a href="../packages/core_forum_drivers.html"><i class="icon-folder-open"></i> core_forum_drivers</a></li>
<li><a href="../packages/core_language_editing.html"><i class="icon-folder-open"></i> core_language_editing</a></li>
<li><a href="../packages/core_menus.html"><i class="icon-folder-open"></i> core_menus</a></li>
<li><a href="../packages/core_notifications.html"><i class="icon-folder-open"></i> core_notifications</a></li>
<li><a href="../packages/core_rich_media.html"><i class="icon-folder-open"></i> core_rich_media</a></li>
<li><a href="../packages/core_themeing.html"><i class="icon-folder-open"></i> core_themeing</a></li>
<li><a href="../packages/core_upgrader.html"><i class="icon-folder-open"></i> core_upgrader</a></li>
<li><a href="../packages/core_webstandards.html"><i class="icon-folder-open"></i> core_webstandards</a></li>
<li><a href="../packages/custom_comcode.html"><i class="icon-folder-open"></i> custom_comcode</a></li>
<li><a href="../packages/downloads.html"><i class="icon-folder-open"></i> downloads</a></li>
<li><a href="../packages/ecommerce.html"><i class="icon-folder-open"></i> ecommerce</a></li>
<li><a href="../packages/filedump.html"><i class="icon-folder-open"></i> filedump</a></li>
<li><a href="../packages/galleries.html"><i class="icon-folder-open"></i> galleries</a></li>
<li><a href="../packages/google_appengine.html"><i class="icon-folder-open"></i> google_appengine</a></li>
<li><a href="../packages/import.html"><i class="icon-folder-open"></i> import</a></li>
<li><a href="../packages/ldap.html"><i class="icon-folder-open"></i> ldap</a></li>
<li><a href="../packages/msn.html"><i class="icon-folder-open"></i> msn</a></li>
<li><a href="../packages/news.html"><i class="icon-folder-open"></i> news</a></li>
<li><a href="../packages/newsletter.html"><i class="icon-folder-open"></i> newsletter</a></li>
<li><a href="../packages/points.html"><i class="icon-folder-open"></i> points</a></li>
<li><a href="../packages/pointstore.html"><i class="icon-folder-open"></i> pointstore</a></li>
<li><a href="../packages/polls.html"><i class="icon-folder-open"></i> polls</a></li>
<li><a href="../packages/quizzes.html"><i class="icon-folder-open"></i> quizzes</a></li>
<li><a href="../packages/realtime_rain.html"><i class="icon-folder-open"></i> realtime_rain</a></li>
<li><a href="../packages/recommend.html"><i class="icon-folder-open"></i> recommend</a></li>
<li><a href="../packages/search.html"><i class="icon-folder-open"></i> search</a></li>
<li><a href="../packages/securitylogging.html"><i class="icon-folder-open"></i> securitylogging</a></li>
<li><a href="../packages/shopping.html"><i class="icon-folder-open"></i> shopping</a></li>
<li><a href="../packages/sms.html"><i class="icon-folder-open"></i> sms</a></li>
<li><a href="../packages/stats.html"><i class="icon-folder-open"></i> stats</a></li>
<li><a href="../packages/syndication.html"><i class="icon-folder-open"></i> syndication</a></li>
<li><a href="../packages/themewizard.html"><i class="icon-folder-open"></i> themewizard</a></li>
<li><a href="../packages/tickets.html"><i class="icon-folder-open"></i> tickets</a></li>
<li><a href="../packages/wiki.html"><i class="icon-folder-open"></i> wiki</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">499</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_allowed_settings" title="allowed_settings() :: Find a bitmask of settings (email, SMS, etc) a notification code supports for listening on."><span class="description">Find a bitmask of settings (email, SMS, etc) a notification code supports for listening on.</span><pre>allowed_settings()</pre></a></li>
<li class="method public "><a href="#method_create_category_tree" title="create_category_tree() :: Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button."><span class="description">Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button.</span><pre>create_category_tree()</pre></a></li>
<li class="method public "><a href="#method_get_default_auto_setting" title="get_default_auto_setting() :: Find the setting that members have for a notification code if they have done some action triggering automatic setting (e.g. posted within a topic)."><span class="description">Find the setting that members have for a notification code if they have done some action triggering automatic setting (e.g. posted within a topic).</span><pre>get_default_auto_setting()</pre></a></li>
<li class="method public "><a href="#method_get_initial_setting" title="get_initial_setting() :: Find the initial setting that members have for a notification code (only applies to the member_could_potentially_enable members)."><span class="description">Find the initial setting that members have for a notification code (only applies to the member_could_potentially_enable members).</span><pre>get_initial_setting()</pre></a></li>
<li class="method public "><a href="#method_list_handled_codes" title="list_handled_codes() :: Get a list of all the notification codes this hook can handle."><span class="description">Get a list of all the notification codes this hook can handle.</span><pre>list_handled_codes()</pre></a></li>
<li class="method public "><a href="#method_list_members_who_have_enabled" title="list_members_who_have_enabled() :: Get a list of members who have enabled this notification (i.e. have permission to AND have chosen to or are defaulted to)."><span class="description">Get a list of members who have enabled this notification (i.e. have permission to AND have chosen to or are defaulted to).</span><pre>list_members_who_have_enabled()</pre></a></li>
<li class="method public "><a href="#method_member_could_potentially_enable" title="member_could_potentially_enable() :: Find whether a member could enable this notification (i.e. have permission to)."><span class="description">Find whether a member could enable this notification (i.e. have permission to).</span><pre>member_could_potentially_enable()</pre></a></li>
<li class="method public "><a href="#method_member_has_enabled" title="member_has_enabled() :: Find whether a member has enabled this notification (i.e. have permission to AND have chosen to or are defaulted to)."><span class="description">Find whether a member has enabled this notification (i.e. have permission to AND have chosen to or are defaulted to).</span><pre>member_has_enabled()</pre></a></li>
<li class="method public "><a href="#method_supports_categories" title="supports_categories() :: Find whether a handled notification code supports categories."><span class="description">Find whether a handled notification code supports categories.</span><pre>supports_categories()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected "><a href="#method__all_members_who_have_enabled" title="_all_members_who_have_enabled() :: Get a list of members who have enabled this notification (i.e. have chosen to or are defaulted to)."><span class="description">Get a list of members who have enabled this notification (i.e. have chosen to or are defaulted to).</span><pre>_all_members_who_have_enabled()</pre></a></li>
<li class="method protected "><a href="#method__all_members_who_have_enabled_with_category_access" title="_all_members_who_have_enabled_with_category_access() :: Further filter results from _all_members_who_have_enabled."><span class="description">Further filter results from _all_members_who_have_enabled.</span><pre>_all_members_who_have_enabled_with_category_access()</pre></a></li>
<li class="method protected "><a href="#method__all_members_who_have_enabled_with_page_access" title="_all_members_who_have_enabled_with_page_access() :: Further filter results from _all_members_who_have_enabled."><span class="description">Further filter results from _all_members_who_have_enabled.</span><pre>_all_members_who_have_enabled_with_page_access()</pre></a></li>
<li class="method protected "><a href="#method__all_members_who_have_enabled_with_privilege" title="_all_members_who_have_enabled_with_privilege() :: Further filter results from _all_members_who_have_enabled."><span class="description">Further filter results from _all_members_who_have_enabled.</span><pre>_all_members_who_have_enabled_with_privilege()</pre></a></li>
<li class="method protected "><a href="#method__all_members_who_have_enabled_with_zone_access" title="_all_members_who_have_enabled_with_zone_access() :: Further filter results from _all_members_who_have_enabled."><span class="description">Further filter results from _all_members_who_have_enabled.</span><pre>_all_members_who_have_enabled_with_zone_access()</pre></a></li>
<li class="method protected "><a href="#method__create_category_tree" title="_create_category_tree() :: Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button."><span class="description">Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button.</span><pre>_create_category_tree()</pre></a></li>
<li class="method protected "><a href="#method__is_member" title="_is_member() :: Find whether someone has permission to view any notifications (yes) and possibly if they actually are."><span class="description">Find whether someone has permission to view any notifications (yes) and possibly if they actually are.</span><pre>_is_member()</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Hook_Notification"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Hook_Notification.html">Hook_Notification</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">Base class for notification hooks. Provides default implementations for all methods that provide full access to everyone, and interact with enabled table.</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/core_notifications.html">core_notifications</a></td>
</tr></table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method_allowed_settings"></a><div class="element clickable method public method_allowed_settings " data-toggle="collapse" data-target=".method_allowed_settings .collapse" title="public">
<h2>Find a bitmask of settings (email, SMS, etc) a notification code supports for listening on.</h2>
<pre>allowed_settings(\ID_TEXT $notification_code) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>Allowed settings</div>
</div></div>
</div>
<a id="method_create_category_tree"></a><div class="element clickable method public method_create_category_tree " data-toggle="collapse" data-target=".method_create_category_tree .collapse" title="public">
<h2>Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button.</h2>
<pre>create_category_tree(\ID_TEXT $notification_code, \?ID_TEXT $id) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$id</h4>
<code>\?ID_TEXT</code><p>The ID of where we're looking under (null: N/A)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Tree structure</div>
</div></div>
</div>
<a id="method_get_default_auto_setting"></a><div class="element clickable method public method_get_default_auto_setting " data-toggle="collapse" data-target=".method_get_default_auto_setting .collapse" title="public">
<h2>Find the setting that members have for a notification code if they have done some action triggering automatic setting (e.g. posted within a topic).</h2>
<pre>get_default_auto_setting(\ID_TEXT $notification_code, \?SHORT_TEXT $category<code> = null</code>) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>Automatic setting</div>
</div></div>
</div>
<a id="method_get_initial_setting"></a><div class="element clickable method public method_get_initial_setting " data-toggle="collapse" data-target=".method_get_initial_setting .collapse" title="public">
<h2>Find the initial setting that members have for a notification code (only applies to the member_could_potentially_enable members).</h2>
<pre>get_initial_setting(\ID_TEXT $notification_code, \?SHORT_TEXT $category<code> = null</code>) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>Initial setting</div>
</div></div>
</div>
<a id="method_list_handled_codes"></a><div class="element clickable method public method_list_handled_codes " data-toggle="collapse" data-target=".method_list_handled_codes .collapse" title="public">
<h2>Get a list of all the notification codes this hook can handle.</h2>
<pre>list_handled_codes() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>(Addons can define hooks that handle whole sets of codes, so hooks are written so they can take wide authority)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>List of codes (mapping between code names, and a pair: section and labelling for those codes)</div>
</div></div>
</div>
<a id="method_list_members_who_have_enabled"></a><div class="element clickable method public method_list_members_who_have_enabled " data-toggle="collapse" data-target=".method_list_members_who_have_enabled .collapse" title="public">
<h2>Get a list of members who have enabled this notification (i.e. have permission to AND have chosen to or are defaulted to).</h2>
<pre>list_members_who_have_enabled(\ID_TEXT $notification_code, \?SHORT_TEXT $category<code> = null</code>, \?array $to_member_ids<code> = null</code>, integer $start<code> = 0</code>, integer $max<code> = 300</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method_member_could_potentially_enable"></a><div class="element clickable method public method_member_could_potentially_enable " data-toggle="collapse" data-target=".method_member_could_potentially_enable .collapse" title="public">
<h2>Find whether a member could enable this notification (i.e. have permission to).</h2>
<pre>member_could_potentially_enable(\ID_TEXT $notification_code, \MEMBER $member_id, \?SHORT_TEXT $category<code> = null</code>) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$member_id</h4>
<code>\MEMBER</code><p>Member to check against</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether they could</div>
</div></div>
</div>
<a id="method_member_has_enabled"></a><div class="element clickable method public method_member_has_enabled " data-toggle="collapse" data-target=".method_member_has_enabled .collapse" title="public">
<h2>Find whether a member has enabled this notification (i.e. have permission to AND have chosen to or are defaulted to).</h2>
<pre>member_has_enabled(\ID_TEXT $notification_code, \MEMBER $member_id, \?SHORT_TEXT $category<code> = null</code>) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>(Separate implementation to list_members_who_have_enabled, for performance reasons.)</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$member_id</h4>
<code>\MEMBER</code><p>Member to check against</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether they have</div>
</div></div>
</div>
<a id="method_supports_categories"></a><div class="element clickable method public method_supports_categories " data-toggle="collapse" data-target=".method_supports_categories .collapse" title="public">
<h2>Find whether a handled notification code supports categories.</h2>
<pre>supports_categories(\ID_TEXT $notification_code) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>(Content types, for example, will define notifications on specific categories, not just in general. The categories are interpreted by the hook and may be complex. E.g. it might be like a regexp match, or like FORUM:3 or TOPIC:100)</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether it does</div>
</div></div>
</div>
<a id="method__all_members_who_have_enabled"></a><div class="element clickable method protected method__all_members_who_have_enabled " data-toggle="collapse" data-target=".method__all_members_who_have_enabled .collapse" title="protected">
<h2>Get a list of members who have enabled this notification (i.e. have chosen to or are defaulted to).</h2>
<pre>_all_members_who_have_enabled(\ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \?array $to_member_ids, integer $start, integer $max, boolean $catch_all_too<code> = true</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>(No pagination supported, as assumed there are only a small set of members here.)</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<div class="subelement argument">
<h4>$catch_all_too</h4>
<code>boolean</code><p>Whether to find members who are subscribed regardless of notification code</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method__all_members_who_have_enabled_with_category_access"></a><div class="element clickable method protected method__all_members_who_have_enabled_with_category_access " data-toggle="collapse" data-target=".method__all_members_who_have_enabled_with_category_access .collapse" title="protected">
<h2>Further filter results from _all_members_who_have_enabled.</h2>
<pre>_all_members_who_have_enabled_with_category_access(array $to_filter, \ID_TEXT $category, \ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \?array $to_member_ids, integer $start, integer $max) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$to_filter</h4>
<code>array</code><p>Members from main query (we'll filter them)</p></div>
<div class="subelement argument">
<h4>$category</h4>
<code>\ID_TEXT</code><p>The category permission type</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method__all_members_who_have_enabled_with_page_access"></a><div class="element clickable method protected method__all_members_who_have_enabled_with_page_access " data-toggle="collapse" data-target=".method__all_members_who_have_enabled_with_page_access .collapse" title="protected">
<h2>Further filter results from _all_members_who_have_enabled.</h2>
<pre>_all_members_who_have_enabled_with_page_access(array $to_filter, \ID_TEXT $page, \ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \?array $to_member_ids, integer $start, integer $max) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$to_filter</h4>
<code>array</code><p>Members from main query (we'll filter them)</p></div>
<div class="subelement argument">
<h4>$page</h4>
<code>\ID_TEXT</code><p>The page</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method__all_members_who_have_enabled_with_privilege"></a><div class="element clickable method protected method__all_members_who_have_enabled_with_privilege " data-toggle="collapse" data-target=".method__all_members_who_have_enabled_with_privilege .collapse" title="protected">
<h2>Further filter results from _all_members_who_have_enabled.</h2>
<pre>_all_members_who_have_enabled_with_privilege(array $to_filter, \ID_TEXT $privilege, \ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \?array $to_member_ids, integer $start, integer $max) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$to_filter</h4>
<code>array</code><p>Members from main query (we'll filter them)</p></div>
<div class="subelement argument">
<h4>$privilege</h4>
<code>\ID_TEXT</code><p>The privilege</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method__all_members_who_have_enabled_with_zone_access"></a><div class="element clickable method protected method__all_members_who_have_enabled_with_zone_access " data-toggle="collapse" data-target=".method__all_members_who_have_enabled_with_zone_access .collapse" title="protected">
<h2>Further filter results from _all_members_who_have_enabled.</h2>
<pre>_all_members_who_have_enabled_with_zone_access(array $to_filter, \ID_TEXT $zone, \ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \?array $to_member_ids, integer $start, integer $max) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$to_filter</h4>
<code>array</code><p>Members from main query (we'll filter them)</p></div>
<div class="subelement argument">
<h4>$zone</h4>
<code>\ID_TEXT</code><p>The zone</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$to_member_ids</h4>
<code>\?array</code><p>List of member IDs we are restricting to (null: no restriction). This effectively works as a intersection set operator against those who have enabled.</p></div>
<div class="subelement argument">
<h4>$start</h4>
<code>integer</code><p>Start position (for pagination)</p></div>
<div class="subelement argument">
<h4>$max</h4>
<code>integer</code><p>Maximum (for pagination)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>A pair: Map of members to their notification setting, and whether there may be more</div>
</div></div>
</div>
<a id="method__create_category_tree"></a><div class="element clickable method protected method__create_category_tree " data-toggle="collapse" data-target=".method__create_category_tree .collapse" title="protected">
<h2>Standard function to create the standardised category tree. This base version will do it based on seeing what is already being monitored, i.e. so you can unmonitor them. It assumes monitoring is initially set from the frontend via the monitor button.</h2>
<pre>_create_category_tree(\ID_TEXT $notification_code, \?ID_TEXT $id, boolean $for_any_member<code> = false</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$notification_code</h4>
<code>\ID_TEXT</code><p>Notification code</p></div>
<div class="subelement argument">
<h4>$id</h4>
<code>\?ID_TEXT</code><p>The ID of where we're looking under (null: N/A)</p></div>
<div class="subelement argument">
<h4>$for_any_member</h4>
<code>boolean</code><p>Whether to list anything monitored by any member (useful if you are calling this because you can't naturally enumerate what can be monitored)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Tree structure</div>
</div></div>
</div>
<a id="method__is_member"></a><div class="element clickable method protected method__is_member " data-toggle="collapse" data-target=".method__is_member .collapse" title="protected">
<h2>Find whether someone has permission to view any notifications (yes) and possibly if they actually are.</h2>
<pre>_is_member(\?ID_TEXT $only_if_enabled_on__notification_code, \?SHORT_TEXT $only_if_enabled_on__category, \MEMBER $member_id) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$only_if_enabled_on__notification_code</h4>
<code>\?ID_TEXT</code><p>Notification code (null: don't check if they are)</p></div>
<div class="subelement argument">
<h4>$only_if_enabled_on__category</h4>
<code>\?SHORT_TEXT</code><p>The category within the notification code (null: none)</p></div>
<div class="subelement argument">
<h4>$member_id</h4>
<code>\MEMBER</code><p>Member to check against</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether they do</div>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2015-09-04T16:29:49+01:00.<br></footer></div>
</div>
</body>
</html>
