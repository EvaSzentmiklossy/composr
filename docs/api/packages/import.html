<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>
            Composr API documentation
        </title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">
                        Composr API documentation
                    </a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/aggregate_types.html"><i class="icon-folder-open"></i> aggregate_types</a></li>
<li><a href="../packages/authors.html"><i class="icon-folder-open"></i> authors</a></li>
<li><a href="../packages/awards.html"><i class="icon-folder-open"></i> awards</a></li>
<li><a href="../packages/backup.html"><i class="icon-folder-open"></i> backup</a></li>
<li><a href="../packages/banners.html"><i class="icon-folder-open"></i> banners</a></li>
<li><a href="../packages/bookmarks.html"><i class="icon-folder-open"></i> bookmarks</a></li>
<li><a href="../packages/breadcrumbs.html"><i class="icon-folder-open"></i> breadcrumbs</a></li>
<li><a href="../packages/calendar.html"><i class="icon-folder-open"></i> calendar</a></li>
<li><a href="../packages/captcha.html"><i class="icon-folder-open"></i> captcha</a></li>
<li><a href="../packages/catalogues.html"><i class="icon-folder-open"></i> catalogues</a></li>
<li><a href="../packages/chat.html"><i class="icon-folder-open"></i> chat</a></li>
<li><a href="../packages/cns_forum.html"><i class="icon-folder-open"></i> cns_forum</a></li>
<li><a href="../packages/commandr.html"><i class="icon-folder-open"></i> commandr</a></li>
<li><a href="../packages/content_privacy.html"><i class="icon-folder-open"></i> content_privacy</a></li>
<li><a href="../packages/content_reviews.html"><i class="icon-folder-open"></i> content_reviews</a></li>
<li><a href="../packages/core.html"><i class="icon-folder-open"></i> core</a></li>
<li><a href="../packages/core_abstract_interfaces.html"><i class="icon-folder-open"></i> core_abstract_interfaces</a></li>
<li><a href="../packages/core_addon_management.html"><i class="icon-folder-open"></i> core_addon_management</a></li>
<li><a href="../packages/core_cns.html"><i class="icon-folder-open"></i> core_cns</a></li>
<li><a href="../packages/core_database_drivers.html"><i class="icon-folder-open"></i> core_database_drivers</a></li>
<li><a href="../packages/core_feedback_features.html"><i class="icon-folder-open"></i> core_feedback_features</a></li>
<li><a href="../packages/core_fields.html"><i class="icon-folder-open"></i> core_fields</a></li>
<li><a href="../packages/core_form_interfaces.html"><i class="icon-folder-open"></i> core_form_interfaces</a></li>
<li><a href="../packages/core_forum_drivers.html"><i class="icon-folder-open"></i> core_forum_drivers</a></li>
<li><a href="../packages/core_language_editing.html"><i class="icon-folder-open"></i> core_language_editing</a></li>
<li><a href="../packages/core_menus.html"><i class="icon-folder-open"></i> core_menus</a></li>
<li><a href="../packages/core_notifications.html"><i class="icon-folder-open"></i> core_notifications</a></li>
<li><a href="../packages/core_rich_media.html"><i class="icon-folder-open"></i> core_rich_media</a></li>
<li><a href="../packages/core_themeing.html"><i class="icon-folder-open"></i> core_themeing</a></li>
<li><a href="../packages/core_upgrader.html"><i class="icon-folder-open"></i> core_upgrader</a></li>
<li><a href="../packages/core_webstandards.html"><i class="icon-folder-open"></i> core_webstandards</a></li>
<li><a href="../packages/custom_comcode.html"><i class="icon-folder-open"></i> custom_comcode</a></li>
<li><a href="../packages/downloads.html"><i class="icon-folder-open"></i> downloads</a></li>
<li><a href="../packages/ecommerce.html"><i class="icon-folder-open"></i> ecommerce</a></li>
<li><a href="../packages/filedump.html"><i class="icon-folder-open"></i> filedump</a></li>
<li><a href="../packages/galleries.html"><i class="icon-folder-open"></i> galleries</a></li>
<li><a href="../packages/google_appengine.html"><i class="icon-folder-open"></i> google_appengine</a></li>
<li><a href="../packages/import.html"><i class="icon-folder-open"></i> import</a></li>
<li><a href="../packages/ldap.html"><i class="icon-folder-open"></i> ldap</a></li>
<li><a href="../packages/msn.html"><i class="icon-folder-open"></i> msn</a></li>
<li><a href="../packages/news.html"><i class="icon-folder-open"></i> news</a></li>
<li><a href="../packages/newsletter.html"><i class="icon-folder-open"></i> newsletter</a></li>
<li><a href="../packages/points.html"><i class="icon-folder-open"></i> points</a></li>
<li><a href="../packages/pointstore.html"><i class="icon-folder-open"></i> pointstore</a></li>
<li><a href="../packages/polls.html"><i class="icon-folder-open"></i> polls</a></li>
<li><a href="../packages/quizzes.html"><i class="icon-folder-open"></i> quizzes</a></li>
<li><a href="../packages/realtime_rain.html"><i class="icon-folder-open"></i> realtime_rain</a></li>
<li><a href="../packages/recommend.html"><i class="icon-folder-open"></i> recommend</a></li>
<li><a href="../packages/search.html"><i class="icon-folder-open"></i> search</a></li>
<li><a href="../packages/securitylogging.html"><i class="icon-folder-open"></i> securitylogging</a></li>
<li><a href="../packages/shopping.html"><i class="icon-folder-open"></i> shopping</a></li>
<li><a href="../packages/sms.html"><i class="icon-folder-open"></i> sms</a></li>
<li><a href="../packages/stats.html"><i class="icon-folder-open"></i> stats</a></li>
<li><a href="../packages/syndication.html"><i class="icon-folder-open"></i> syndication</a></li>
<li><a href="../packages/themewizard.html"><i class="icon-folder-open"></i> themewizard</a></li>
<li><a href="../packages/tickets.html"><i class="icon-folder-open"></i> tickets</a></li>
<li><a href="../packages/wiki.html"><i class="icon-folder-open"></i> wiki</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">499</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-map-marker"></i> Packages</li>
<li>
<a href="../packages/import.html" title="import"><i class="icon-folder-open"></i>import</a><ul class="nav nav-list nav-packages"></ul>
</li>
<li class="nav-header">
<i title="Functions" class="icon-custom icon-function"></i> Functions</li>
<li class="function  "><a href="#function_add_wordfilter_word" title="add_wordfilter_word() :: Add a word to the word-filter."><span class="description">Add a word to the word-filter.</span><pre>add_wordfilter_word</pre></a></li>
<li class="function  "><a href="#function_cns_over_local" title="cns_over_local() :: Switch Conversr to run over the local site-DB connection. Useful when importing and our forum driver is actually connected to a forum other than Conversr."><span class="description">Switch Conversr to run over the local site-DB connection. Useful when importing and our forum driver is actually connected to a forum other than Conversr.</span><pre>cns_over_local</pre></a></li>
<li class="function  "><a href="#function_cns_over_msn" title="cns_over_msn() :: Undo cns_over_local."><span class="description">Undo cns_over_local.</span><pre>cns_over_msn</pre></a></li>
<li class="function  "><a href="#function_find_derivative_filename" title="find_derivative_filename() :: Find a similar but non conflicting filename to $file in the given directory."><span class="description">Find a similar but non conflicting filename to $file in the given directory.</span><pre>find_derivative_filename</pre></a></li>
<li class="function  "><a href="#function_i_force_refresh" title="i_force_refresh() :: Force a page refresh due to maximum execution timeout."><span class="description">Force a page refresh due to maximum execution timeout.</span><pre>i_force_refresh</pre></a></li>
<li class="function  "><a href="#function_import_check_if_imported" title="import_check_if_imported() :: Check to see if the given ID of the given type has been imported (if it has a mapping)."><span class="description">Check to see if the given ID of the given type has been imported (if it has a mapping).</span><pre>import_check_if_imported</pre></a></li>
<li class="function  "><a href="#function_import_id_remap_get" title="import_id_remap_get() :: Returns the NEW ID of an imported old ID, for the specified importation type. Whether it returns NULL or gives an error message depends on $fail_ok."><span class="description">Returns the NEW ID of an imported old ID, for the specified importation type. Whether it returns NULL or gives an error message depends on $fail_ok.</span><pre>import_id_remap_get</pre></a></li>
<li class="function  "><a href="#function_import_id_remap_put" title="import_id_remap_put() :: Set the NEW ID for an imported old ID, which also tacitly indicates completion of importing an item of some type of content. This mapping (old ID to new ID) may be used later for importing related content that requires the new identifier. import_id_remap_get is the inverse of this function."><span class="description">Set the NEW ID for an imported old ID, which also tacitly indicates completion of importing an item of some type of content. This mapping (old ID to new ID) may be used later for importing related content that requires the new identifier. import_id_remap_get is the inverse of this function.</span><pre>import_id_remap_put</pre></a></li>
<li class="function  "><a href="#function_load_import_deps" title="load_import_deps() :: Load lots that the importer needs to run."><span class="description">Load lots that the importer needs to run.</span><pre>load_import_deps</pre></a></li>
<li class="function  "><a href="#function_post_import_cleanup" title="post_import_cleanup() :: Load lots that the importer needs to run."><span class="description">Load lots that the importer needs to run.</span><pre>post_import_cleanup</pre></a></li>
<li class="function  "><a href="#function_set_database_index_maintenance" title="set_database_index_maintenance() :: Turn index maintenance off to help speed import, or back on."><span class="description">Turn index maintenance off to help speed import, or back on.</span><pre>set_database_index_maintenance</pre></a></li>
</ul>
</div>
<div class="span8 package-contents">
<ul class="breadcrumb"><li>
<a href="../index.html"><i class="icon-folder-open"></i></a><span class="divider">\</span><li class="active"><a href="../packages/import.html">import</a></li>
</li></ul>
<div class="package-indent">
<h3>
<i title="Functions" class="icon-custom icon-function"></i> Functions</h3>
<a xmlns:php="http://php.net/xsl" id="function_add_wordfilter_word"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_add_wordfilter_word " data-toggle="collapse" data-target=".function_add_wordfilter_word .collapse" title="">
<h2>Add a word to the word-filter.</h2>
<pre>add_wordfilter_word(\SHORT_TEXT $word, \SHORT_TEXT $replacement<code> = ''</code>, \BINARY $substr<code> = 0</code>) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$word</h4>
<code>\SHORT_TEXT</code><p>Word to add to the word-filter</p></div>
<div class="subelement argument">
<h4>$replacement</h4>
<code>\SHORT_TEXT</code><p>Replacement (blank: block entirely)</p></div>
<div class="subelement argument">
<h4>$substr</h4>
<code>\BINARY</code><p>Whether to perform a substring match</p></div>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_cns_over_local"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_cns_over_local " data-toggle="collapse" data-target=".function_cns_over_local .collapse" title="">
<h2>Switch Conversr to run over the local site-DB connection. Useful when importing and our forum driver is actually connected to a forum other than Conversr.</h2>
<pre>cns_over_local() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_cns_over_msn"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_cns_over_msn " data-toggle="collapse" data-target=".function_cns_over_msn .collapse" title="">
<h2>Undo cns_over_local.</h2>
<pre>cns_over_msn() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_find_derivative_filename"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_find_derivative_filename " data-toggle="collapse" data-target=".function_find_derivative_filename .collapse" title="">
<h2>Find a similar but non conflicting filename to $file in the given directory.</h2>
<pre>find_derivative_filename(\PATH $dir, string $file, boolean $shun_gif<code> = false</code>) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$dir</h4>
<code>\PATH</code><p>Directory</p></div>
<div class="subelement argument">
<h4>$file</h4>
<code>string</code><p>Preferred filename</p></div>
<div class="subelement argument">
<h4>$shun_gif</h4>
<code>boolean</code><p>Whether GIF files are made as PNG fiels</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Filename to use</div>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_i_force_refresh"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_i_force_refresh " data-toggle="collapse" data-target=".function_i_force_refresh .collapse" title="">
<h2>Force a page refresh due to maximum execution timeout.</h2>
<pre>i_force_refresh() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_import_check_if_imported"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_import_check_if_imported " data-toggle="collapse" data-target=".function_import_check_if_imported .collapse" title="">
<h2>Check to see if the given ID of the given type has been imported (if it has a mapping).</h2>
<pre>import_check_if_imported(\ID_TEXT $type, string $id_old) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>\ID_TEXT</code><p>An importation type code, from those Composr has defined</p></div>
<div class="subelement argument">
<h4>$id_old</h4>
<code>string</code><p>The source (old, original) ID of the mapping</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Whether it has been imported</div>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_import_id_remap_get"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_import_id_remap_get " data-toggle="collapse" data-target=".function_import_id_remap_get .collapse" title="">
<h2>Returns the NEW ID of an imported old ID, for the specified importation type. Whether it returns NULL or gives an error message depends on $fail_ok.</h2>
<pre>import_id_remap_get(\ID_TEXT $type, string $id_old, boolean $fail_ok<code> = false</code>) : \?AUTO_LINK</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>\ID_TEXT</code><p>An importation type code, from those Composr has defined (E.g. 'download', 'news', ...)</p></div>
<div class="subelement argument">
<h4>$id_old</h4>
<code>string</code><p>The source (old, original) ID of the mapping</p></div>
<div class="subelement argument">
<h4>$fail_ok</h4>
<code>boolean</code><p>If it is okay to fail to find a mapping</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\?AUTO_LINK</code>The new ID (null: not found)</div>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_import_id_remap_put"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_import_id_remap_put " data-toggle="collapse" data-target=".function_import_id_remap_put .collapse" title="">
<h2>Set the NEW ID for an imported old ID, which also tacitly indicates completion of importing an item of some type of content. This mapping (old ID to new ID) may be used later for importing related content that requires the new identifier. import_id_remap_get is the inverse of this function.</h2>
<pre>import_id_remap_put(\ID_TEXT $type, string $id_old, \AUTO_LINK $id_new) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$type</h4>
<code>\ID_TEXT</code><p>An importation type code, from those Composr has defined</p></div>
<div class="subelement argument">
<h4>$id_old</h4>
<code>string</code><p>The source (old, original) ID of the mapping</p></div>
<div class="subelement argument">
<h4>$id_new</h4>
<code>\AUTO_LINK</code><p>The destination (new) ID of the mapping</p></div>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_load_import_deps"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_load_import_deps " data-toggle="collapse" data-target=".function_load_import_deps .collapse" title="">
<h2>Load lots that the importer needs to run.</h2>
<pre>load_import_deps() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_post_import_cleanup"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_post_import_cleanup " data-toggle="collapse" data-target=".function_post_import_cleanup .collapse" title="">
<h2>Load lots that the importer needs to run.</h2>
<pre>post_import_cleanup() </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
</div></div>
</div>
<a xmlns:php="http://php.net/xsl" id="function_set_database_index_maintenance"></a><div xmlns:php="http://php.net/xsl" class="element clickable function  function_set_database_index_maintenance " data-toggle="collapse" data-target=".function_set_database_index_maintenance .collapse" title="">
<h2>Turn index maintenance off to help speed import, or back on.</h2>
<pre>set_database_index_maintenance(boolean $on) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<table class="table table-bordered"><tr>
<th>package</th>
<td><a href="../packages/import.html">import</a></td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$on</h4>
<code>boolean</code><p>Whether index maintenance should be on.</p></div>
</div></div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2015-09-04T16:29:40+01:00.<br></footer></div>
</div>
</body>
</html>
